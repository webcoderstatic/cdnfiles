var _____WB$wombat$assign$function_____=function(name){return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name))||self[name];};if(!self.__WB_pmw){self.__WB_pmw=function(obj){this.__WB_source=obj;return this;}}{
let window = _____WB$wombat$assign$function_____("window");
let self = _____WB$wombat$assign$function_____("self");
let document = _____WB$wombat$assign$function_____("document");
let location = _____WB$wombat$assign$function_____("location");
let top = _____WB$wombat$assign$function_____("top");
let parent = _____WB$wombat$assign$function_____("parent");
let frames = _____WB$wombat$assign$function_____("frames");
let opens = _____WB$wombat$assign$function_____("opens");
(()=>{var e={649:(e,t,n)=>{e.exports={...n(174)}},823:(e,t,n)=>{e.exports={...n(93)}},292:(e,t,n)=>{e.exports={...n(840)}},527:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,f:()=>a});const r="SET_REQUEST_DATA",a="SET_MY_CARS_DATA"},659:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(527);const a={moreRequestData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.error||void 0===t.payload||t.type!==r.G?e:t.payload},myCarsData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.error||void 0===t.payload||t.type!==r.f?e:t.payload}}},606:e=>{var t,n,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,s=[],c=!1,d=-1;function u(){c&&l&&(c=!1,l.length?s=l.concat(s):d=-1,s.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||c||i(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},497:e=>{e.exports={isNode:!1,isBrowser:!0,enforceServerSide:()=>{throw new Error("You are attempting to use code in the browser that has been designated server-side only. Such activity is known by the state of California to lead to usage of the dark side of the Force.")}}},93:(e,t,n)=>{e.exports=n(497)},840:(e,t,n)=>{const{log:r}=n(183);e.exports={fatal:(e,t=null)=>{r("FATAL",e,t)},error:(e,t=null)=>{r("ERROR",e,t)},warn:(e,t=null)=>{r("WARN",e,t)},info:(e,t=null)=>{r("INFO",e,t)},debug:(e,t=null)=>{r("DEBUG",e,t)},trace:(e,t=null)=>{r("TRACE",e,t)}}},183:(e,t,n)=>{const{levels:r,colors:a,logLevel:o,stderrLevels:i}=n(722);r[o];e.exports={log:(e,t,n)=>{false}}},722:(e,t,n)=>{const r=n(606).env.LOG_LEVEL||"INFO",a={FATAL:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},o=new Set;Object.keys(a).forEach(e=>{a[e]<a.INFO&&o.add(e)});e.exports={levels:a,logLevel:r,stderrLevels:o,colors:{FATAL:"red bold",ERROR:"red",WARN:"yellow",INFO:"green",DEBUG:"cyan",TRACE:"blue"}}},174:e=>{"use strict";e.exports=DDC.WsmCommonData}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=ReactDOM;var t=n.n(e);const r=React;var a=n.n(r);const o=ReactRedux;var i=n(649);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}class s extends a().Component{constructor(e){super(e),this.renderDelegate=this.renderDelegate.bind(this)}renderDelegate(e){let{labels:t}=e;const{HeadingTag:n,headingText:r,widgetId:o,toggleCollapse:i,showIcon:s,headingClasses:c,iconClasses:d}=this.props,u=[...d];let m={};if(i){const e="ddc-icon-expand";u.push(e),u.push("icon-style-collapse"),m={role:"button","data-toggle":"collapse","data-target":`#${o}-collapse`,"data-expand-icon-class":`${e}`,"data-collapse-icon-class":"ddc-icon-collapse","aria-expanded":"false","aria-controls":`${o}-collapse`}}return a().createElement(n,l({className:c.join(" ")},m),s&&a().createElement(a().Fragment,null,a().createElement("i",{className:u.join(" ")})," "),t.getHTML(r))}render(){return this.props.headingText&&"FALSE"!==this.props.headingText.toUpperCase()?a().createElement(i.Common,{render:this.renderDelegate}):null}}s.defaultProps={HeadingTag:"h3",headingText:""};const c=s,d=e=>{const{id:t,children:n,toggleCollapse:r}=e;return r?a().createElement("div",{id:`${t}-collapse`,className:"collapse collapse-content"},n):n};d.defaultProps={toggleCollapse:!1};const u=d;var m=n(174),v=n(823);const p=(e,t)=>{if("string"!=typeof e||0===e.length)throw new Error("".concat(t," must be a non-zero length string. Got: ").concat(e,"."))},f=(e,t,n)=>{p(e,"Widget name"),p(t,"Widget id");const r="undefined"!=typeof window;if(r){const{DDC:r={}}=window,a={action:"clicked",element:void 0,elementCTA:void 0,event:"widgetUserEvent",fieldValue:void 0,formEventId:void 0,formId:void 0,nonInteractive:!1,result:void 0,sourceData:void 0,value:void 0,widgetId:t,widgetName:e,widgetState:"default"};return r.fireTrackingEvent&&r.fireTrackingEvent({...a,...n}),!!r.fireTrackingEvent}return r};function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){return g(new Set(e)).filter(function(e){return e}).join(" ")||null};const w=PropTypes;var E=n.n(w),y=n(292),b=n.n(y);const T="DDC_VEHICLE_TOAST_INTERACTED_VEHICLES",C="DDC_VEHICLE_TOAST",S=function(){return((e,t)=>{if(window.location.search.includes("_showVehicleToastLogs")){const n="background: black; margin: 8px 0; padding: 5px; border-radius: 3px; border: 1px solid white; color: #ff6900;",r=`%cWSM-VEHICLE-TOAST: -> ${e}`;if(t)return void console.log(r,n,t);console.log(r,n)}})(...arguments)},I=(e,t)=>{const n={startedAt:e,dismissedAt:t};sessionStorage.setItem(C,JSON.stringify(n))},D=()=>{const e=sessionStorage.getItem(C);return e?JSON.parse(e):null},N=(e,t)=>{if(!e)return;const n=e=>e?new Date(e).toLocaleString():"null",{startedAt:r,dismissedAt:a}=e;S(`Vehicle Toast Session ${t} - Started At: ${n(r)}, Dismissed At: ${n(a)}`)},R=()=>{const e={...D(),startedAt:Date.now()};N(e,"start timer"),I(e.startedAt,e.dismissedAt||null)},A=()=>{S("Resetting vehicle toast session startedAt timestamp"),R()},k=e=>{let{children:t,message:n,type:o="info",duration:i=1e4,onClose:l,actionLabel:s,onAction:c}=e;const[d,u]=(0,r.useState)(!1),[v,p]=(0,r.useState)(20),f=(0,r.useRef)(null),g=(0,m.useLabels)(),{deviceType:h}=(0,m.useRequestData)(),w="MOBILE"===h,E=()=>{u(!1),(e=>{const t=D();if(t){const n={...t,dismissedAt:e};N(n,"dismiss toast"),sessionStorage.setItem(C,JSON.stringify(n))}})(Date.now()),l()};(0,r.useEffect)(()=>(u(!0),f.current=setTimeout(()=>{u(!1),A(),l()},i),()=>clearTimeout(f.current)),[i]),(0,r.useEffect)(()=>{w&&(()=>{const e=(()=>{const e=document.querySelector(".page-header");return e?e.offsetHeight+20:20})();e&&p(e)})()},[w]);const y=(0,r.useMemo)(()=>({border:"1px solid var(--color-neutral-500)",backgroundColor:"var(--color-neutral-0)",...w&&{top:`${v}px`}}),[w,v]);return a().createElement("div",{className:`vehicle-toast vehicle-toast-${o} alert alert-${o} ${d?"vehicle-toast-in":"vehicle-toast-out"}`,style:y},a().createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:E,style:{color:"var(--color-neutral-900)",position:"absolute",top:8,right:8,zIndex:2}},a().createElement("i",{className:"ddc-icon ddc-icon-remove2 ddc-icon-size-medium"})),n?a().createElement("span",null,n):t,a().createElement("div",{className:"d-flex mt-3"},a().createElement("div",{className:"w-25 mr-3"},"Â "),a().createElement("div",{className:"w-75"},s&&c&&a().createElement("button",{type:"button",className:"btn btn-default btn-xs",onClick:()=>{u(!1),A(),c()}},s),a().createElement("button",{type:"button","aria-label":"Dismiss",className:"text-link ml-4 ddc-font-size-small",onClick:e=>{e.preventDefault(),E()}},g.get("DISMISS")))))};k.defaultProps={type:"info",duration:3e3,children:null,message:null,actionLabel:null,onAction:null},k.propTypes={children:E().node,message:E().string,type:E().oneOf(["info","success","error","warning"]),duration:E().number,onClose:E().func.isRequired,actionLabel:E().string,onAction:E().func},k.displayName="VehicleToast",function(e){if("undefined"==typeof window)return;const t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}(".vehicle-toast {\n  position: fixed;\n  width: auto;\n  left: 20px;\n  right: 20px;\n  margin-left: 0;\n  margin-right: 0;\n  border: 1px solid var(--divider-color);\n  border-radius: 4px;\n  color: white;\n  font-weight: 500;\n  z-index: 1000;\n  opacity: 0;\n  animation: vehicleToastSlideIn 0.3s ease-out;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3019607843);\n}\n\n@media (min-width: 769px) {\n  .vehicle-toast {\n    width: 400px;\n    left: auto;\n    right: 12px;\n    margin-left: auto;\n    margin-right: auto;\n    top: 176px;\n  }\n}\n.vehicle-toast-info {\n  background-color: #fff;\n  color: #333;\n}\n\n.vehicle-toast-success {\n  background-color: #4caf50;\n}\n\n.vehicle-toast-error {\n  background-color: #f44336;\n}\n\n.vehicle-toast.vehicle-toast-in {\n  opacity: 1;\n  animation: vehicleToastSlideIn 0.3s ease-out;\n}\n\n.vehicle-toast.vehicle-toast-out {\n  opacity: 0;\n  animation: vehicleToastSlideOut 0.3s ease-out;\n}\n\n@keyframes vehicleToastSlideIn {\n  from {\n    opacity: 0;\n    transform: translateX(410px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes vehicleToastSlideOut {\n  from {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  to {\n    opacity: 0;\n    transform: translateX(410px);\n  }\n}\n.vehicle-toast button:hover::after {\n  border-bottom: none !important;\n}\n\n.vehicle-toast button::after {\n  display: inline !important;\n}\n\n.vehicle-toast button.close .ddc-icon-remove2 {\n  color: var(--color-neutral-900);\n}");const O={"ddc-lead-form-opened":1,"ddc-lead-submitted":-1,"uds-sdp-lead-form-opened":2,"uds-sdp-deal-created":-1,"uds-penciling":3,"ddc-window-sticker-opened":4,"ddc-mycars-saved-vehicle":5,"ddc-vehicle-gallery-opened":6},_=()=>{try{const e=localStorage.getItem(T);return JSON.parse(e)||{}}catch(e){return b().error("Error reading from localStorage:",e),{}}},P=e=>{try{localStorage.setItem(T,JSON.stringify(e))}catch(e){b().error("Error writing to localStorage:",e)}},x=()=>{const e=_();return Object.keys(e).length>0},L=e=>{const t=_();if(null!=t&&t[e]){const n={...t};delete n[e],P(n)}},V=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{data:null,error:{message:"Vehicle UUID is required",status:400}};const r=`/api/widget/ws-mycars-nav/vehicles/${e}`;try{const e={"Content-Type":"application/json"},a=await fetch(r,{method:"POST",headers:{...e,...n.headers},body:JSON.stringify(t),...n});if(!a.ok)throw{message:`HTTP error! status: ${a.status}`,status:a.status};return{data:await a.json(),error:null}}catch(e){return{data:null,error:e}}},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1?arguments[1]:void 0;const[n,a]=(0,r.useState)(!1),{deviceType:o,locale:i}=(0,m.useRequestData)(),l={siteId:t,locale:i,deviceType:o};(0,r.useEffect)(()=>{const e=D(),t=x();S("before start/stop vehicle toast session",{hasInteractions:t}),N(e,"init"),!t||null!=e&&e.startedAt||null!=e&&e.dismissedAt?t||(()=>{const e=D();if(e){const t={...e,startedAt:null};I(t.startedAt,t.dismissedAt)}})():R()},[]),(0,r.useEffect)(()=>{if(!(()=>{var e;const t=null===(e=window)||void 0===e||null===(e=e.DDC)||void 0===e||null===(e=e.dataLayer)||void 0===e||null===(e=e.page)||void 0===e||null===(e=e.pageInfo)||void 0===e?void 0:e.pageId,n=(null==t?void 0:t.includes("INVENTORY_SEARCH_RESULTS"))&&x()&&!(()=>{const e=D();return!(null==e||!e.dismissedAt)})();return S("condition to initialize vehicle toast timer:",n),n})())return()=>{};const t=(()=>{var t;const n=null===(t=D())||void 0===t?void 0:t.startedAt,r=Date.now()-n;return Math.max(0,e-r)})();S(`Displaying vehicle toast in ${t}ms at ${new Date(Date.now()+t).toLocaleString()}`);const n=setTimeout(()=>{x()&&a(!0)},t);return()=>clearTimeout(n)},[e]);const{data:s,error:c}=((e,t)=>{const[n,a]=(0,r.useState)({data:null,error:null});return(0,r.useEffect)(()=>{if(!e)return void a({data:null,error:null});const n=(r=_(),Object.values(r).filter(e=>{var t;return-1!==(null!==(t=O[e.interaction])&&void 0!==t?t:0)}).sort((e,t)=>{var n,r;const a=null!==(n=O[e.interaction])&&void 0!==n?n:0,o=null!==(r=O[t.interaction])&&void 0!==r?r:0;return a!==o?a-o:t.timestamp-e.timestamp}).slice(0,10));var r;n.length?(async()=>{a({data:null,error:null});for(let o=0;o<n.length;o++){const i=n[o];if(null!=i&&i.uuid){var e,r;const n=await V(i.uuid,t);if(404===(null===(e=n.error)||void 0===e?void 0:e.status)||"sold"===(null===(r=n.data)||void 0===r?void 0:r.status))L(i.uuid);else if(n.data){a({data:n.data,error:null});break}}}})():a({data:null,error:null})},[e,JSON.stringify(t)]),{data:n.data,error:n.error}})(n,l);return{showToast:n&&!c&&s,setShowToast:a,data:s}},H=e=>{var t;let{data:n={}}=e;const r=(0,m.useLabels)();return React.createElement("div",{className:"d-flex"},React.createElement("div",{className:"w-25 mr-3"},React.createElement("img",{alt:n.images[0].alt,title:n.images[0].title,className:"w-100",src:n.images[0].uri,style:{aspectRatio:"auto 4 / 3"}})),React.createElement("div",{className:"w-75"},React.createElement("span",{className:"font-weight-bold ddc-font-size-medium d-block"},r.get("STILL_INTERESTED")),React.createElement("span",{className:"d-inline-block ddc-font-size-small"},n.title.join(" ")),React.createElement("span",{className:"font-weight-bold d-block ddc-font-size-small"},null===(t=n.pricing.dprice.find(e=>e.isFinalPrice))||void 0===t?void 0:t.value)))};H.displayName="ToastContent";const U=e=>{let{siteId:t}=e;const n=(0,m.useLabels)(),{srpVehicleToastDelay:a=120}=(0,m.usePrefs)(),i=(e=>{const t=Number(e);return t>0?1e3*t:12e4})(a);(0,r.useEffect)(()=>{var e;const t=null===(e=window)||void 0===e||null===(e=e.DDC)||void 0===e?void 0:e.pubsub;return null==t||t.subscribe("wsm-vehicle-toast/interacted-vehicles",e=>{if(!e||!e.uuid||!e.interaction)return void b().error("Received invalid vehicle data:",e);(e=>{const t=((e,t)=>{var n;const r={...e},a=null!==(n=O[t.interaction])&&void 0!==n?n:0;if(-1===a)return r[t.uuid]&&delete r[t.uuid],r;const o=r[t.uuid];if(o){var i;const e=null!==(i=O[o.interaction])&&void 0!==i?i:0,n=a<e,l=a===e&&t.timestamp>o.timestamp;(n||l)&&(r[t.uuid]=t)}else r[t.uuid]=t;return r})(_(),e);P(t)})({...e,timestamp:e.timestamp||Date.now()})}),()=>null==t?void 0:t.unsubscribe("wsm-vehicle-toast/interacted-vehicles")},[]),(()=>{const e=(0,o.useSelector)(e=>{var t;return null==e||null===(t=e.moreRequestData)||void 0===t?void 0:t.pageAlias});(0,r.useEffect)(()=>{var t,n;const r=null===(t=window)||void 0===t||null===(t=t.DDC)||void 0===t||null===(t=t.dataLayer)||void 0===t||null===(t=t.page)||void 0===t||null===(t=t.pageInfo)||void 0===t?void 0:t.pageName,a=null===(n=window)||void 0===n||null===(n=n.DDC)||void 0===n||null===(n=n.dataLayer)||void 0===n||null===(n=n.confirmation)||void 0===n?void 0:n.uuid;var o;!a||"CONFIRM_DEFAULT"!==e&&"CONFIRM_DEFAULT"!==r||null===(o=window)||void 0===o||null===(o=o.DDC)||void 0===o||null===(o=o.pubsub)||void 0===o||o.publish("wsm-vehicle-toast/interacted-vehicles",{uuid:a,interaction:"ddc-lead-form-confirmation",timestamp:Date.now()})},[e])})(),(()=>{const e=(0,r.useRef)(!0),[t,n]=(0,r.useState)(null),[a,o]=(()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t,r;return window.caiEventBus?(e.current=window.caiEventBus,n(!0)):(r=setTimeout(()=>{clearInterval(t)},2e3),t=setInterval(()=>{window.caiEventBus&&(e.current=window.caiEventBus,n(!0),clearInterval(t),clearTimeout(r))},100)),()=>{(t||r)&&(clearInterval(t),clearTimeout(r))}},[]),[e.current,t]})();(0,r.useEffect)(()=>{var t,r;if((null===(t=window.DDC)||void 0===t||null===(t=t.dataLayer)||void 0===t||null===(t=t.page)||void 0===t||null===(t=t.pageInfo)||void 0===t?void 0:t.isVdp)&&o&&a&&null!==(r=window)&&void 0!==r&&null!==(r=r.DDC)&&void 0!==r&&r.pubsub){var i;S("wsm-vehicle-toast: caiEventBus is ready");const{pubsub:t}=window.DDC,r=null===(i=window.DDC)||void 0===i||null===(i=i.dataLayer)||void 0===i||null===(i=i.vehicles)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.uuid,o=()=>{S("wsm-vehicle-toast: tracking uds penciling: isIntialLoad:",e.current),e.current?e.current=!1:t.publish("wsm-vehicle-toast/interacted-vehicles",{uuid:r,interaction:"uds-penciling",timestamp:Date.now()})},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(`wsm-vehicle-toast: uds:sdpOnTrack:completed event received: ${JSON.stringify(e,null,2)}`);const{name:n}=e;let a="";switch(n){case"DR_LEAD_FORM_DISPLAYED":a="uds-sdp-lead-form-opened";break;case"DR_DXG_ID_VERSION":a="uds-sdp-deal-created";break;default:a="uds-penciling"}a&&t.publish("wsm-vehicle-toast/interacted-vehicles",{uuid:r,interaction:a,timestamp:Date.now()})},s=e=>{S(`wsm-vehicle-toast: uds:calcPencilingDataUpdate:updated event received: ${JSON.stringify(e)}`),n(JSON.stringify(e))};return S("wsm-vehicle-toast: registering UDS interaction events"),a.on("uds:PaymentCalcResponse:Update",o),a.on("uds:paymentUpdate:completed",o),a.on("uds:calcPencilingDataUpdate:updated",s),a.on("uds:sdpOnTrack:completed",l),()=>{a.off("uds:PaymentCalcResponse:Update",o),a.off("uds:paymentUpdate:completed",o),a.off("uds:calcPencilingDataUpdate:updated",s),a.off("uds:sdpOnTrack:completed",l)}}return()=>{}},[o,a]),(0,r.useEffect)(()=>{if(!e.current&&t){var n;const e=null===(n=window.DDC)||void 0===n||null===(n=n.dataLayer)||void 0===n||null===(n=n.vehicles)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.uuid;e&&window.DDC.pubsub.publish("wsm-vehicle-toast/interacted-vehicles",{uuid:e,interaction:"uds-penciling",timestamp:Date.now()})}},[t])})();const{showToast:l,setShowToast:s,data:c}=M(i,t);return l?React.createElement(k,{onClose:()=>s(!1),type:"info",duration:1e4,actionLabel:n.get("VIEW_DETAILS"),onAction:()=>{null!=c&&c.link&&(window.location.href=c.link)}},React.createElement(H,{data:c})):null};U.defaultProps={siteId:E().string},U.propTypes={siteId:E().string},U.displayName="VehicleToastWrapper";const $=ReactBootstrap,W=e=>{var t,n,r,a,o,i;const l=null!==(t=null==e||null===(n=e.filter(e=>""!==e.viewed&&e.viewed))||void 0===n?void 0:n.length)&&void 0!==t?t:0,s=null!==(r=null==e||null===(a=e.filter(e=>""!==e.tracked&&e.tracked))||void 0===a?void 0:a.length)&&void 0!==r?r:0,c=null!==(o=null==e||null===(i=e.filter(e=>""!==e.saved&&e.saved))||void 0===i?void 0:i.length)&&void 0!==o?o:0;return{recentlyViewedCount:l,trackingPriceCount:s,savedCount:c,totalActivityCount:l+s+c}},j=e=>{const{vehicles:t}=e,n=null==t?void 0:t.map(e=>({...e,newSave:!1,newTrackedPrice:!1}));return{...e,vehicles:n,newSaveCount:0,newTrackedPriceCount:0}},F=e=>{const{RECENTLY_VIEWED:t,TRACKING_PRICE:n,SAVED:r,SHOP_OUR_INVENTORY:a}=e;return{"MyCars nav":{element:"MyCars nav",result:"MyCars menu opened"},[t]:{element:"Recently viewed link",result:"User navigates to recently viewed inventory"},[n]:{element:"Tracking price link",result:"User navigates to tracking price inventory"},[r]:{element:"Saved link",result:"User navigates to saved inventory"},[a]:{element:"Shop our inventory button",result:"User navigated to all inventory"}}},Y=(0,r.forwardRef)((e,t)=>{let{isMobile:n,welcome:o,onClickHandler:i}=e;const l=(0,r.useRef)(null),s=(0,m.useLabels)(),c=(0,m.useSitemap)(),d=s.get("SHOP_OUR_INVENTORY"),u=s.get("START_SHOPPING"),v=s.get("MYCARS_TRACK_VEHICLES_INTERACTED"),p=s.get("WELCOME_BACK"),f=s.get("MYCARS_JUMP_BACK_IN"),{shoppingLinkAlias:g}=(0,m.usePrefs)(),w=["w-100","flex-basis-0","flex-grow-1","border",n?"mt-5":"mt-0"],E=["mb-4",n?"mt-7 display-3":"mt-8 mx-10 display-4"],y=["bg-primary","w-25","border-bottom","border-primary",n?"border-left border-right px-2 mt-3 mb-3":"mt-5 mb-5"],b=["font-weight-normal",n?"mt-4 mb-3 px-1 mx-3":"ddc-font-size-small mb-5 mx-10"],T=["rounded-0","font-weight-bold","btn","btn-primary",n?"mt-3 mb-7":"mb-8",n?"ddc-font-size-small":"ddc-font-size-xsmall"];return(0,r.useImperativeHandle)(t,()=>({getShoppingActivityRef:()=>l.current})),a().createElement("div",{id:"modal-card",className:h(w)},a().createElement("div",{className:n?"mx-5":""},a().createElement("div",{className:"text-center"},a().createElement("h1",{className:h(E)},o?p:u,"!"),a().createElement("hr",{className:h(y)}),a().createElement("p",{className:h(b)},o?f:v),a().createElement("a",{ref:l,id:"modal-card-button",type:"button",className:h(T),onClick:()=>i(d),href:c.get(g),"aria-label":d,tabIndex:0},d))))}),G=Y;var J=n(527);function B(e){return{type:J.f,payload:e}}const z="mycars-user",q="mycars-user-update",K="validate",X="unsubscribeSingle",Q="unsubscribeAll",Z=(E().shape({accountID:E().string.isRequired,userID:E().string.isRequired,newSaveCount:E().number.isRequired,newTrackedPriceCount:E().number.isRequired,vehicles:E().arrayOf(E().object)}),e=>{let{count:t}=e;const n=(0,m.useLabels)();return a().createElement("span",{className:"highlight-badge badge-small default ml-4"},`${t} ${n.get("NEW")}`)}),ee=(0,r.forwardRef)((e,t)=>{let{title:n,href:o,count:i,newSaveCount:l,newTrackedPriceCount:s,isMobile:c,onClickHandler:d}=e;const u=(0,r.useRef)(null),v=(0,m.useLabels)(),p=["modal-nav-link","list-group-item","px-0 pl-4 mr-5",c?"text-primary-500":"modal-nav-link--desktop"],f=n===v.get("TRACKING_PRICE")&&s>0,g=n===v.get("SAVED")&&l>0;(0,r.useImperativeHandle)(t,()=>({getLinkNode:()=>u.current}));return a().createElement("a",{ref:u,href:o,className:h(p),onClick:()=>d(n),"aria-label":(()=>{const e=v.get("MYCARS_OPEN_LINK").replace("{title}",n).replace("{count}",i);let t="";return f?t=`${s} ${v.get("NEW")}`:g&&(t=`${l} ${v.get("NEW")}`),`${e} ${t}`.trim()})()},n,a().createElement("small",{className:"ml-3 text-muted ddc-font-size-xsmall"},i),f&&a().createElement(Z,{count:s}),g&&a().createElement(Z,{count:l}))}),te=ee,ne=(0,r.forwardRef)((e,t)=>{let{isMobile:n,myCarsData:o,onClickHandler:i}=e;const{vehicles:l,newSaveCount:s,newTrackedPriceCount:c}=o,d=(0,m.useLabels)(),u=d.get("SHOPPING_ACTIVITY"),v=d.get("RECENTLY_VIEWED"),p=d.get("TRACKING_PRICE"),f=d.get("SAVED"),g=(0,r.useRef)([...Array(3)].map(()=>(0,r.createRef)()));(0,r.useImperativeHandle)(t,()=>({getLinkNodes:()=>g.current.map(e=>e.current.getLinkNode())}));const h=(0,m.useSitemap)().get("INVENTORY_LISTING_SHOPPING_ACTIVITY"),w=((e,t)=>{const{recentlyViewedCount:n,trackingPriceCount:r,savedCount:a}=W(e),{RECENTLY_VIEWED:o,TRACKING_PRICE:i,SAVED:l}=t;return[{title:o,count:n,hrefParam:"?select=viewed"},{title:i,count:r,hrefParam:"?select=tracked"},{title:l,count:a,hrefParam:"?select=saved"}]})(l,{RECENTLY_VIEWED:v,TRACKING_PRICE:p,SAVED:f});return(0,r.useEffect)(()=>{g.current=g.current.slice(0,w.length)},[w.length]),a().createElement("div",{id:"modal-nav",className:"mb-1 flex-basis-0 flex-grow-1"},a().createElement("nav",null,n?null:a().createElement("h2",{id:"mycars-modal-title","aria-level":"2",className:"mt-0 h5 text-body"},u),a().createElement("ul",{className:"list-group mb-0"},w.map((e,t)=>{let{title:r,hrefParam:o,count:l}=e;return a().createElement("li",{key:r},a().createElement(te,{ref:g.current[t],title:r,href:h+o,count:l,newSaveCount:s,newTrackedPriceCount:c,isMobile:n,onClickHandler:i}))}))))}),re=ne;const ae=function(e){let{isOpen:t,onModalClose:n}=e;const i=(0,o.useDispatch)(),l=(0,o.useSelector)(e=>e.myCarsData),{deviceType:s,windowId:c,widgetName:d}=(0,m.useRequestData)(),u="DESKTOP"===s,{totalActivityCount:v}=W(l.vehicles),p=v>0,g=(0,m.useLabels)(),w=g.get("RECENTLY_VIEWED"),E=g.get("TRACKING_PRICE"),y=g.get("SAVED"),b=g.get("SHOPPING_ACTIVITY"),T=g.get("SHOP_OUR_INVENTORY"),C=F({RECENTLY_VIEWED:w,TRACKING_PRICE:E,SAVED:y,SHOP_OUR_INVENTORY:T}),S=[u?"mt-25 modal-lg":"pl-5"],I=(0,r.useRef)(null),D=(0,r.useRef)(null),N=(0,r.useRef)(null),R=["border-bottom-0","d-flex","pb-0",u?"pt-3 pr-3 justify-content-end":"mt-1 pt-4 justify-content-between"],A=["d-flex","flex-wrap",u?"px-6":"flex-column px-4"],k=e=>{var t,n;if("Tab"!==e.key||!I.current)return;const r=[...I.current.getLinkNodes(),null===(t=N.current)||void 0===t?void 0:t.getShoppingActivityRef(),D.current].filter(Boolean);let a=r.indexOf(document.activeElement)+(e.shiftKey?-1:1);a>=r.length?a=0:a<0&&(a=r.length-1),e.preventDefault(),null===(n=r[a])||void 0===n||n.focus()};(0,r.useEffect)(()=>(window.addEventListener("keydown",k),()=>{window.removeEventListener("keydown",k)}),[]);const O=e=>{const t=C[e];f(d,c,t),i(B(j(l)))};return a().createElement($.Modal,{onHide:n,show:t,onEntered:()=>{const e=I.current.getLinkNodes();(null==e?void 0:e.length)>0&&e[0].focus()},className:u?"":"dock-right",dialogClassName:h(S),"aria-labelledby":"mycars-modal-title","aria-describedby":"mycars-modal-title"},a().createElement("div",{id:"modal-content",className:h(R)},u?null:a().createElement("h3",{"aria-level":"2",id:"mycars-modal-title",className:"ddc-font-size-large pt-3 mt-2 pl-4 font-weight-normal modal-title"},b),a().createElement("button",{ref:D,type:"button","aria-label":g.get("CLOSE_MODAL"),className:"btn-unstyled text-link-muted py-3 px-4",onClick:()=>n()},a().createElement("i",{className:"ddc-icon ddc-icon-remove2 ddc-icon-size-large","aria-hidden":"true"}))),a().createElement("div",{className:u?"px-6 pb-10 pt-1":""},a().createElement("div",{className:h(A)},a().createElement(re,{ref:I,isMobile:!u,myCarsData:l,onClickHandler:O}),a().createElement(G,{ref:N,isMobile:!u,welcome:p,onClickHandler:O}))))},oe=e=>{const{vehicles:t}=e,n=null==t?void 0:t.filter(e=>!0===e.newSave||"true"===e.newSave).length,r=null==t?void 0:t.filter(e=>!0===e.newTrackedPrice||"true"===e.newTrackedPrice).length;return{...e,newSaveCount:n,newTrackedPriceCount:r}},ie=(e,t)=>JSON.stringify(e)===JSON.stringify(t),le=e=>{const{vehicles:t}=e,n=null==t?void 0:t.filter(e=>!0===e.newSave||"true"===e.newSave).length,r=null==t?void 0:t.filter(e=>!0===e.newTrackedPrice||"true"===e.newTrackedPrice).length;return n===parseInt(e.newSaveCount,10)&&r===parseInt(e.newTrackedPriceCount,10)},se=(e,t,n)=>{const a=(0,r.useRef)(),i=(0,o.useDispatch)(),l=(0,o.useSelector)(e=>e.myCarsData),s=()=>{try{let n=JSON.parse(window.localStorage.getItem(e));if(n&&"object"==typeof n&&Object.keys(n).length>0)if(n=((e,t)=>{const n=Object.keys(e),r=Object.keys(t).filter(e=>!n.includes(e)),a={};return r.forEach(e=>{a[e]=t[e]}),{...e,...a}})(n,t),le(n))window.localStorage.setItem(e,JSON.stringify(n)),i(B(n)),a.current=n;else{const t=oe(n);window.localStorage.setItem(e,JSON.stringify(t)),i(B(t)),a.current=t}else window.localStorage.setItem(e,JSON.stringify(t)),i(B(t)),a.current=t}catch(e){i(B(t)),a.current=t}};function c(){const t=JSON.parse(localStorage.getItem(e));t&&"object"==typeof t&&Object.keys(t).length>0&&!ie(a.current,t)&&(le(t)?(i(B(t)),a.current=t):(t=>{try{if(t){const n={...l,...t},r=oe(n);window.localStorage.setItem(e,JSON.stringify(r)),i(B(r)),window.DDC.pubsub.publish(q),a.current=r}}catch(e){}})(t))}(0,r.useEffect)(()=>{let e;return n&&(s(),e=window.DDC.pubsub.subscribe(q,c)),()=>{e&&"function"==typeof e.unsubscribe&&e.unsubscribe()}},[])},ce=(e,t,n)=>{try{window.localStorage.setItem(t,JSON.stringify(e)),window.DDC.pubsub.publish(n)}catch(e){}},de=DDC.Hysterics,ue=(0,de.hysteriFetch)("EAS.SERVICE",{timeout:{timeout:5e3}}),me=e=>{let{userId:t,eventType:n,isEnableMyCars:a}=e;const[o,i]=(0,r.useState)([]);return(0,r.useEffect)(()=>{!t||n!==K&&n!==X&&n||!a||(async()=>{const e=`/api/widget/ws-mycars-nav/price-alert/${t}`;try{const t=await ue(e);i(t.alerts)}catch(e){throw new Error(`MYCARS_NAV/CLIENT/PRICE_ALERT_FETCH_ERROR: ${e.message}`)}})()},[t]),{response:o}},ve=(0,de.hysteriFetch)("easData",{timeout:{timeout:5e3}});const pe=function(){var e,n,i,l,s,c;const d=(0,r.useRef)(),{moreRequestData:{accountId:u,siteId:p,parameterMap:{eventType:g="",userId:w,priceAlertId:E,vehicleId:y}},myCarsData:b}=(0,o.useSelector)(e=>e),[T,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),{deviceType:D,windowId:N,widgetName:R}=(0,m.useRequestData)(),A=(0,m.useLabels)(),k=(0,m.useFlags)(),{enableSrpVehicleToast:O}=(0,m.usePrefs)(),_=A.get("RECENTLY_VIEWED"),P=A.get("TRACKING_PRICE"),x=A.get("SAVED"),L=A.get("SHOP_OUR_INVENTORY"),V=F({RECENTLY_VIEWED:_,TRACKING_PRICE:P,SAVED:x,SHOP_OUR_INVENTORY:L}),M="DESKTOP"===D,H=v.isBrowser&&"true"===(null===(e=window)||void 0===e||null===(n=e.DDC)||void 0===n||null===(i=n.siteProperties)||void 0===i?void 0:i.enableMyCars)&&!("true"===(null===(l=window)||void 0===l||null===(s=l.DDC)||void 0===s||null===(c=s.siteProperties)||void 0===c?void 0:c.disableMyCarsToolbar));se(z,{email:"",accountId:u,newTrackedPriceCount:0,newSaveCount:0,vehicles:[]},H);const{response:$}=me({userId:w,eventType:g,isEnableMyCars:H});(e=>{let{eventType:t,userId:n,priceAlertId:a,isEnableMyCars:o}=e;const i=async(e,t)=>{const n=`/api/widget/ws-mycars-nav/${e}`,r=JSON.stringify(t);let a;try{a=await ve(n,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:r}),window.DDC.pubsub.publish("mycars-nav/fetchEas",a,null)}catch(e){window.DDC.pubsub.publish("mycars-nav/fetchEas",null,e)}};(0,r.useEffect)(()=>{o&&async function(){if(!n||!t){const e=new Error("Invalid arguments");return void window.DDC.pubsub.publish("mycars-nav/fetchEas",null,e)}switch(t){case"validate":await i("validate",{userId:n});break;case"unsubscribeSingle":if(!a){const e=new Error("Invalid arguments");window.DDC.pubsub.publish("mycars-nav/fetchEas",null,e)}await i("unsubscribe-single",{userId:n,priceAlertId:a});break;case"unsubscribeAll":await i("unsubscribe-all",{userId:n});break;default:{const e=new Error("Invalid eventType");window.DDC.pubsub.publish("mycars-nav/fetchEas",null,e)}}}()},[t,n,a,o])})({eventType:g,userId:w,priceAlertId:E,isEnableMyCars:H}),(0,r.useEffect)(()=>{if(v.isBrowser&&!M){const e=document.getElementById("mycars-mobile-icon-root");I(e)}},[M]),(0,r.useEffect)(()=>{if($&&$.length>0&&null!=b&&b.vehicles&&w&&H){let e=((e,t)=>{const{vehicles:n}=e,r=((e,t)=>{const n=[...t];return e.forEach(e=>{const t=n.findIndex(t=>t.uuid===e.vehicleId);-1===t?n.push({uuid:e.vehicleId,tracked:e.lastModified,newTrackedPrice:!1,priceAlertId:e.priceAlertId,stockNumber:e.stockNumber,vehicleTitle:e.vehicleTitle}):n[t].tracked||(n[t].tracked=e.lastModified,n[t].newTrackedPrice=!1)}),n})(t,n);return{...e,vehicles:r}})(b,$);g!==K&&g||ie(b,e)||ce(e,z,q),g===X&&(e=((e,t)=>{const{vehicles:n}=e,r=n.map(e=>{const n={...e};if(n.uuid===t){if(n.saved){const{tracked:e,newTrackedPrice:t,priceAlertId:r,...a}=n;return a}{const{tracked:e,newTrackedPrice:t,priceAlertId:r,stockNumber:a,vehicleTitle:o,...i}=n;return i}}return n}).filter(e=>e.tracked||e.saved||e.viewed);return oe({...e,vehicles:r})})(e,y),ce(e,z,q))}},[$]),(0,r.useEffect)(()=>{if(b&&null!=b&&b.vehicles&&g&&g===Q&&d.current!==g&&H){d.current=g;const e=(e=>{const{vehicles:t}=e,n=t.map(e=>{const t={...e};return delete t.newTrackedPrice,delete t.tracked,delete t.priceAlertId,t.saved||t.viewed?(t.saved||(delete t.stockNumber,delete t.vehicleTitle),t):null});return{...e,newTrackedPriceCount:0,vehicles:n.filter(e=>null!==e)}})(b);ce(e,z,q)}},[b]);const W=b&&(b.newSaveCount>0||b.newTrackedPriceCount>0),Y=["ws-mycars-nav-wrapper",M?"d-flex align-items-center justify-content-center":""],G=[M?"d-flex mycars-integration-navbar":""],J=["btn-link btn-no-decoration border-0 text-decoration-none position-relative",M?"pl-4":"",T?"active":""],B=a().createElement(a().Fragment,null,a().createElement("div",{className:h(Y)},M&&a().createElement("div",{"data-location":"header-toolbar"}),H&&a().createElement("div",{className:h(G)},a().createElement("button",{type:"button",className:h(J),"aria-label":A.get("OPEN_MY_CARS"),"aria-pressed":T,onClick:()=>{const e=V["MyCars nav"];f(R,N,e),C(!0)}},a().createElement("i",{className:"ddc-icon ddc-nav-icon ddc-icon-mycars-minimal-login ddc-icon-size-xlarge"}),W&&a().createElement("span",{className:M?"mycars-nav-badge--desktop":"mycars-nav-badge--mobile","data-testid":"mycars-nav-badge"})))),b&&(null==b?void 0:b.vehicles)&&H&&a().createElement(ae,{isOpen:T,onModalClose:()=>{C(!1);const e=j(b);ie(b,e)||ce(e,z,q)}}),k["enable-vehicle-toast"]&&"true"===O&&a().createElement(U,{siteId:p}));return H||M?M?B:S?t().createPortal(B,S):null:null},fe=(e,t,n)=>{const r=["ddc-content",t],a="mycars-default";return e&&r.push(e),n&&r.push("collapse-container"),a&&r.push(a),r},ge=(e,t,n)=>{const r=[],{widgetHeading:a,headingIconClasses:o,headingIconSize:i,headingIconStyle:l}=e;return a&&t&&(r.push("ddc-icon"),n||r.push(`ddc-icon-${l}`),i&&r.push(`ddc-icon-size-${i}`),o&&r.push(o)),r},he=(e,t,n)=>{const r=[],{headingSize:a,headingStyles:o,headingClasses:i}=e;return r.push("widget-heading"),"MOBILE"===t&&r.push("ddc-heading"),i&&r.push(i),a&&r.push(a),o&&r.push(`ddc-heading-${o}`),n&&r.push("collapse-heading"),r},we=e=>{let{outputWrapperDiv:t,store:n,widgetId:r,widgetName:i}=e;const l=n.getState(),s=l.prefs||{},d=s.widgetHeading&&"true"===s.toggleCollapse||!1,m=!!s.headingIconStyle||d;const v=a().createElement(o.Provider,{store:n},a().createElement(c,{HeadingTag:s.headingTag,headingText:s.widgetHeading,widgetId:r,toggleCollapse:d,showIcon:m,headingClasses:he(s,l.requestData.deviceType,d),iconClasses:ge(s,m,d)}),a().createElement(u,{id:r,toggleCollapse:d},a().createElement(pe,null)));if(t){if(!i)throw new Error("widgetName is required if outputWrapperDiv is true.");return a().createElement("div",{id:`${r}-app-root`,className:fe(s.widgetClasses,i,d).join(" "),"data-widget-name":i,"data-widget-id":r},v)}return v},Ee=RTK;const ye=[],be={requestData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!t.error&&t.payload&&"WS_SCRIPTS_SET_REQUEST_DATA"===t.type?t.payload:e},prefs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_SET_PREFS"!==t.type?e:t.payload},labels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_ADD_LABELS"!==t.type?e:{...e,...t.payload}},sitemap:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_ADD_SITEMAP"!==t.type?e:{...e,...t.payload}},flags:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_SET_FEATURE_FLAGS"!==t.type?e:t.payload}};function Te(e){const[t,r]=(()=>{let e={},t={};const r=[];try{e=n(659).A,r.push("../reducers")}catch(e){}try{t=Object(function(){var e=new Error("Cannot find module '../features'");throw e.code="MODULE_NOT_FOUND",e}()),r.push("../features")}catch(e){}return[{...e,...t},r]})();return(0,Ee.configureStore)({reducer:{...t,...be},middleware:e=>e().concat(ye),preloadedState:e})}const Ce={};(()=>{const t=(n="ws-mycars-nav",window.DDC&&window.DDC.WS&&window.DDC.WS.state&&window.DDC.WS.state[n]?window.DDC.WS.state[n]:{});var n;Object.keys(t).forEach(n=>{const r=Te(((e,t)=>{let n=e[t];return"string"==typeof n&&(n=JSON.parse(n)),n})(t,n));Ce[n]=r,(0,e.hydrate)(React.createElement(we,{outputWrapperDiv:!1,store:r,widgetId:n}),document.getElementById(`${n}-app-root`)),delete t[n]})})()})()})();
//# sourceMappingURL=bundle.0a943c2f924fed033d1b65745f9d6cbe.js.map
}
/*
     FILE ARCHIVED ON 01:47:28 Sep 03, 2025 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:00:58 Nov 30, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.573
  exclusion.robots: 0.02
  exclusion.robots.policy: 0.009
  esindex: 0.012
  cdx.remote: 10.218
  LoadShardBlock: 405.161 (3)
  PetaboxLoader3.datanode: 422.241 (4)
  load_resource: 45.879
  PetaboxLoader3.resolve: 23.191
*/