var _____WB$wombat$assign$function_____=function(name){return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name))||self[name];};if(!self.__WB_pmw){self.__WB_pmw=function(obj){this.__WB_source=obj;return this;}}{
let window = _____WB$wombat$assign$function_____("window");
let self = _____WB$wombat$assign$function_____("self");
let document = _____WB$wombat$assign$function_____("document");
let location = _____WB$wombat$assign$function_____("location");
let top = _____WB$wombat$assign$function_____("top");
let parent = _____WB$wombat$assign$function_____("parent");
let frames = _____WB$wombat$assign$function_____("frames");
let opens = _____WB$wombat$assign$function_____("opens");
!function(){var t=this,e=t.jQuery,a=t.DDC,n="toggle",r="",i="&hellip;",d={reWords:/(&.*?;\s?|<.*?>\s?|\s?[^\w\s<>&]*\s?(\w[\w\-]*)\s?[^\w\s<>&]*\s?)[^\w\s<>&]?/g,reTag:/<(\/)?([^ ]+?)(?: (\/)| .*?)?>/},c={toggleTemplate:'<a class="truncateToggle" role="button" tabindex="0"><span>{{ text }}</span></a>'},u={br:!0,col:!0,link:!0,base:!0,img:!0,param:!0,area:!0,hr:!0,input:!0,"!--":!0},s={truncate:".truncate",truncated:".truncated",truncateMode:".truncateMode",truncateWindowId:".truncateWindowId",toggle:".truncated .truncateToggle",contentWidget:".content-default"},o={truncateExpanded:"truncate-expanded",truncateToggle:"truncateToggle"},l={page:{truncate:"truncate"},user:{toggleContent:"click"}},g={user:{live:{toggleContent:s.toggle},traditional:{}}},h=function(t,a){e(document).trigger("trackEvent",[{widgetName:"truncated content",eventName:t,data:a}])},p=function(t,a,n){var r,c,s=parseInt(a.toString(),10),o=[],l=t.toString(),g=l.replace(/\n/g,"").match(d.reWords);if(g&&!isNaN(s)&&s<g.length){for(g=g.slice(0,s),c=0;c<g.length;c+=1)r=g[c].match(d.reTag),!r||r[1]||r[3]||u.hasOwnProperty(r[2])||o.push(r[2]),r&&r[1]&&o.splice(e.inArray(r[2],o),1);for(g.push(n||i),c=o.length-1;c>=0;c-=1)g.push("</"+o[c]+">");l=g.join("")}return l},f={page:{truncate:function(t,a){var n,r,i,d;(0===a.index||a.index)&&(n=e(s.truncate).eq(a.index),r=e(s.truncated).eq(a.index),i=r.find(".truncate-content-truncated"),d=r.find(".truncate-content-full"),e(r).data("abbreviated")?(i.css("display","none"),d.css("display","block"),e(r).data("abbreviated",!1),e(document).trigger("modulesRefresh"),h("show",a.index)):(i.css("display","block"),d.css("display","none"),e(r).data("abbreviated",!0),e(document).trigger("modulesRefresh"),h("hide",a.index)),e(n).toggleClass(o.truncateExpanded))}},user:{toggleContent:function(t){var n=e(this).parents(s.contentWidget),r=n.attr("data-truncate-mode"),i=n.attr("data-truncate-window-id"),d=e(this).closest(".truncated").find(".truncate-content-full").html();if("modal"==r&&void 0!==a.modules.dialog)return e("."+i).find(".content").html(d).end().dialog("open"),!1;var c=e(this).parents(s.truncate),u=e(s.truncate).index(c);e(document).trigger(l.page.truncate,[{index:u}]),t.preventDefault()}}},m={truncateSetup:function(){e(s.contentWidget).each(function(){var t=e(this).attr("data-widget-id"),a=e(s.truncateMode,'[data-widget-id="'+t+'"]').val(),i=e(s.truncateWindowId,'[data-widget-id="'+t+'"]').val();""!==a?e(this).attr("data-truncate-mode",a):e(this).attr("data-truncate-mode",n),""!==i?e(this).attr("data-truncate-window-id",i):e(this).attr("data-truncate-window-id",r)})},jQueryPlugins:function(){e.extend({truncateHtmlWords:function(t,e,a){return p(t,e,a)}}),e.fn.extend({truncateHtmlWords:function(t){return t=e.extend({numWords:100,ellipsis:""},t),e(this).each(function(){var a=e(this).html(),n=e.truncateHtmlWords(a,t.numWords,t.ellipsis);n&&e(this).data("html",a).data("html.truncated",n).html(n)})}})},truncate:function(){e(s.truncate).each(function(){if(!e(this).data("active")){var t=e.getDataAttributes(this),a=t.truncateWords,n=c.toggleTemplate.replace("{{ text }}",t.moreTextLabel||"Read More"),r=c.toggleTemplate.replace("{{ text }}",t.lessTextLabel||"Show Less"),i=t.ellipsis,d=e(this).html(),u="";if(n=n.replace(o.truncateToggle,o.truncateToggle+" dialog"),!isNaN(parseInt(a,10))&&(u="0"!==a?p(d,a||100,i):" ",u&&u!==d)){var s='<div class="truncate-content-truncated" style="display: block;">'+u+n+'</div><div class="truncate-content-full" style="display: none;">'+d+r+"</div>";e(this).html(s).addClass("truncated").data("active",!0).data("abbreviated",!0)}}})}};e(function(){e.each(l.page,function(t){e(document).bind(l.page[t],f.page[t])}),e.each(g.user.live,function(t){e(g.user.live[t]).die(l.user[t]).live(l.user[t],f.user[t])}),e.each(g.user.traditional,function(t){e(g.user.traditional[t]).unbind(l.user[t]).bind(l.user[t],f.user[t])}),e.each(m,function(t){e.isFunction(m[t])&&m[t]()})})}();
}